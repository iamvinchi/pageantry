<%- include('../partials/header') %>
<h1 class="mb-4">Pageant Contestants</h1>

<!-- Add Search Form -->
<!-- <form method="GET" action="/contestants" class="mb-4"> -->

    <!-- <div class="search-container">
        <div class="input-group">
            <input 
                type="text" 
                id="searchInput" 
                name="search"
                class="form-control search-input" 
                placeholder="Search contestants by name..."
                aria-label="Search contestants"
                value="<%= searchQuery %>"
            >
            <button class="btn search-button" type="button" id="searchButton" aria-label="Search">
                <i class="bi bi-search"></i>
            </button>
        </div>
    </div> -->
<!-- </form> -->

<!-- Add empty state for no results -->
<div id="noResults" class="alert alert-info d-none">No contestants found matching your search.</div>
<!-- In views/contestants/list.ejs -->
<h2>Miss CYON Contestants</h2>
<div class="row">
    <% contestants.filter(c => c.post === 'Miss CYON').forEach(contestant => { %>
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <img src="<%= contestant.photo %>" class="card-img-top" alt="<%= contestant.fullName %>">
                <div class="card-body ">
                    <h5 class="card-title"><%= contestant.fullName %></h5>
                    <p class="card-text"><%= contestant.bio %></p>
                    <p class="text-muted">Age: <%= contestant.age %></p>
                    <p class="text-muted">Post: <%= contestant.post %></p>
                    <p class="fw-bold">Votes: <%= contestant.voteCount %></p>
                    <a href="/votes/<%= contestant.shareableLink %>" class="btn btn-primary">Vote Now</a>
                </div>
            </div>
        </div>
    <% }); %>
</div>

<h2>Master CYON Contestants</h2>
<div class="row">
    <% contestants.filter(c => c.post === 'Master CYON').forEach(contestant => { %>
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <img src="<%= contestant.photo %>" class="card-img-top" alt="<%= contestant.fullName %>">
                <div class="card-body">
                    <h5 class="card-title"><%= contestant.fullName %></h5>
                    <p class="card-text"><%= contestant.bio %></p>
                    <p class="text-muted">Age: <%= contestant.age %></p>
                    <p class="text-muted">Post: <%= contestant.post %></p>
                    <p class="fw-bold">Votes: <%= contestant.voteCount %></p>
                    <a href="/votes/<%= contestant.shareableLink %>" class="btn btn-primary">Vote Now</a>
                </div>
            </div>
        </div>
    <% }); %>
</div>

<h2>Face of CYON Contestants</h2>
<div class="row">
    <% contestants.filter(c => c.post === 'Face of CYON').forEach(contestant => { %>
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <img src="<%= contestant.photo %>" class="card-img-top" alt="<%= contestant.fullName %>">
                <div class="card-body">
                    <h5 class="card-title"><%= contestant.fullName %></h5>
                    <p class="card-text"><%= contestant.bio %></p>
                    <p class="text-muted">Age: <%= contestant.age %></p>
                    <p class="text-muted">Post: <%= contestant.post %></p>
                    <p class="fw-bold">Votes: <%= contestant.voteCount %></p>
                    <a href="/votes/<%= contestant.shareableLink %>" class="btn btn-primary">Vote Now</a>
                </div>
            </div>
        </div>
    <% }); %>
</div>

<%- include('../partials/footer') %>